$(document).ready((function(){const t=document.getElementById("bgCanvas"),e=t.getContext("2d");let i=[];function n(){const t=window.innerWidth;return t<480?15:t<768?25:t<1024?35:50}let h=n();function s(){t.width=window.innerWidth,t.height=window.innerHeight;const e=n();if(e!==h)if(h=e,i.length>h)i=i.slice(0,h);else for(;i.length<h;)i.push(new o)}s(),window.addEventListener("resize",s);class o{constructor(){this.reset(),this.y=Math.random()*t.height,this.opacity=.5*Math.random()+.2}reset(){this.x=Math.random()*t.width,this.y=-10,this.size=3*Math.random()+1,this.speedX=.5*Math.random()-.25,this.speedY=.3*Math.random()+.1,this.color=Math.random()>.5?"#F69959":"#8E4A8C"}update(){this.x+=this.speedX,this.y+=this.speedY,this.y>t.height+10&&this.reset(),this.x<-10?this.x=t.width+10:this.x>t.width+10&&(this.x=-10)}draw(){e.beginPath(),e.arc(this.x,this.y,this.size,0,2*Math.PI),e.fillStyle=this.color,e.globalAlpha=this.opacity,e.fill(),e.globalAlpha=1}}for(let t=0;t<h;t++)i.push(new o);let a=0;const r=1e3/30;!function n(h){requestAnimationFrame(n);const s=h-a;if(s<r)return;a=h-s%r,e.clearRect(0,0,t.width,t.height),i.forEach((t=>{t.update(),t.draw()}));const o=window.innerWidth<768?100:150;i.forEach(((t,n)=>{i.slice(n+1).forEach((i=>{const n=t.x-i.x,h=t.y-i.y,s=Math.sqrt(n*n+h*h);s<o&&(e.beginPath(),e.strokeStyle=t.color,e.globalAlpha=.2*(1-s/o),e.lineWidth=.5,e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.stroke(),e.globalAlpha=1)}))}))}(0),document.addEventListener("visibilitychange",(()=>{if(!document.hidden&&0===i.length)for(let t=0;t<h;t++)i.push(new o)}));const l=new IntersectionObserver((function(t){t.forEach(((t,e)=>{t.isIntersecting&&setTimeout((()=>{$(t.target).addClass("visible")}),100*e)}))}),{threshold:.1,rootMargin:"0px 0px -100px 0px"});$(".fade-in-up, .timeline-step").each((function(){l.observe(this)})),$('a[href^="#"]').on("click",(function(t){const e=$(this.getAttribute("href"));e.length&&(t.preventDefault(),$("html, body").stop().animate({scrollTop:e.offset().top-100},1e3))}))}));