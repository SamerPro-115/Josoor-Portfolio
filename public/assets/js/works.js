const videos=document.querySelectorAll(".view-card video");videos.forEach((e=>{const t=e.closest(".view-card");t.addEventListener("mouseenter",(()=>e.play())),t.addEventListener("mouseleave",(()=>{e.pause(),e.currentTime=0}))}));const workCards=document.querySelectorAll(".view-card");function closeModal(){const e=document.getElementById("workModal"),t=e.querySelector("video");t&&(t.pause(),t.currentTime=0,t.remove()),document.querySelectorAll(".work-card video").forEach((e=>{e.pause(),e.currentTime=0})),e.classList.remove("active"),document.body.style.overflow="auto"}workCards.forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset.id,o=`works:Modal.Works.Work${t}`,s=i18next.t(`${o}.Title`),i=i18next.t(`${o}.Description`),r=[i18next.t(`${o}.Details.Detail1`),i18next.t(`${o}.Details.Detail2`),i18next.t(`${o}.Details.Detail3`),i18next.t(`${o}.Details.Detail4`)],d={1:{type:"image",src:"/public/assets/images/works/04.webp"},2:{type:"video",src:"/public/assets/videos/حديقة الليوان بحي الفلاح.mp4"},3:{type:"image",src:"/public/assets/images/works/kids.webp"},4:{type:"image",src:"/public/assets/images/works/حديقة-الكناري-الرياض.webp"},5:{type:"video",src:"/public/assets/videos/فعالية حديقة الكناري حي الحمراء.mp4"},6:{type:"video",src:"/public/assets/videos/فعاليات منتزه الدوح حي طويق.mp4"},7:{type:"video",src:"/public/assets/videos/تجهيز-الفعالية.mp4"}}[t];let n="";n="video"===d.type?`<video controls autoplay style="width: 100%; border-radius: 16px; margin-bottom: 2rem;">\n                <source src="${d.src}" type="video/mp4">\n            </video>`:`<img src="${d.src}" style="width: 100%; border-radius: 16px; margin-bottom: 2rem;">`;const a=i18next.t("works:Modal.DetailsHeading");document.getElementById("modalBody").innerHTML=`\n            ${n}\n            <h2 class="text-3xl sm:text-4xl font-bold mb-4 gradient-text">${s}</h2>\n            <p class="text-gray-300 text-lg mb-6 leading-relaxed">${i}</p>\n            <h3 class="text-2xl font-bold mb-4">${a}</h3>\n            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                ${r.map((e=>`\n                    <div class="bg-white/5 border-white/10 p-4 rounded-xl border border-white border-opacity-10">\n                        <p class="text-gray-300">${e}</p>\n                    </div>\n                `)).join("")}\n            </div>\n        `,document.getElementById("workModal").classList.add("active"),document.body.style.overflow="hidden"}))})),document.getElementById("workModal").addEventListener("click",(e=>{"workModal"===e.target.id&&closeModal()}));const heroSection=document.getElementById("heroSection"),heroTitle=document.getElementById("heroTitle");let mouseX=0,mouseY=0,rafId=null;function updateTilt(){const e=heroSection.getBoundingClientRect(),t=e.width/2,o=e.height/2,s=(mouseY-o)/40,i=(t-mouseX)/40;heroTitle.style.transform=`perspective(1000px)\n         rotateX(${s}deg)\n         rotateY(${i}deg)\n         translateZ(20px)`,rafId=null}heroSection.addEventListener("mousemove",(e=>{const t=heroSection.getBoundingClientRect();mouseX=e.clientX-t.left,mouseY=e.clientY-t.top,rafId||(rafId=requestAnimationFrame(updateTilt))})),heroSection.addEventListener("mouseleave",(()=>{heroTitle.style.transform="perspective(1000px) rotateX(0) rotateY(0) translateZ(0)"})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&closeModal()}));