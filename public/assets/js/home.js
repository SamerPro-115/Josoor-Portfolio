function initPartnersScroll(){const t=$(".scroll-content");if(0===t.length)return;const e=t.children().clone();t.append(e.clone()),t.append(e.clone());let n=0,o=.7;const s=t.width()/3;let i=!1,c=null;function a(){n+=o,n>=s&&(n=0),t.css("transform",`translateX(-${n}px) translateZ(0)`),c=requestAnimationFrame(a)}$(".partner-logo").hover((function(){i=!0,o=.2}),(function(){i=!1,o=.7})),$(".partner-logo").on("mouseenter",(function(){const t=$(this);for(let e=0;e<2;e++)setTimeout((()=>{const e=$('<div class="sparkle"></div>'),n=t[0].getBoundingClientRect(),o=Math.random()*n.width,s=Math.random()*n.height;e.css({left:o+"px",top:s+"px"}),t.append(e),setTimeout((()=>e.remove()),1e3)}),150*e)})),document.addEventListener("visibilitychange",(function(){document.hidden?c&&cancelAnimationFrame(c):a()})),a()}$(document).ready((function(){const t=$(".service-card"),e=window.innerWidth<=768;let n=!1;const o=function(){const o=$(window).scrollTop(),s=$(window).height();if(e)t.each((function(){const t=$(this),e=t.offset().top,n=e+t.outerHeight(),s=o+210;s>=e&&s<n?t.addClass("active-card"):t.removeClass("active-card")}));else{const e=o+s;t.each((function(){const t=$(this),n=t.offset().top;if(e>n&&o<n+t.height()){const o=.02*(e-n);t.find(".service-image").css("transform",`scale(1.1) translateY(${o}px) translateZ(0)`)}}))}n=!1};$(window).on("scroll",(function(){n||(window.requestAnimationFrame(o),n=!0)})),e&&(t.on("touchstart",(function(e){t.removeClass("touch-active"),$(this).addClass("touch-active")})).on("touchend touchcancel",(function(){const t=$(this);setTimeout((function(){t.removeClass("touch-active")}),300)})),$(document).on("touchstart",(function(e){$(e.target).closest(".service-card").length||t.removeClass("touch-active")}))),o()})),$(document).ready((function(){initPartnersScroll()})),$(document).ready((function(){const t=new IntersectionObserver((function(t){t.forEach((t=>{if(t.isIntersecting&&!$(t.target).hasClass("animated")){const e=parseInt($(t.target).data("target"));!function(t,e){$({counter:0}).animate({counter:e},{duration:2500,easing:"swing",step:function(){t.text(Math.ceil(this.counter))},complete:function(){t.text(e)}})}($(t.target),e),$(t.target).addClass("animated")}}))}),{threshold:.3,rootMargin:"0px"});$(".stat-number").each((function(){t.observe(this)}));const e=$(".animate-fade-in-up"),n=new IntersectionObserver((function(t){t.forEach((t=>{t.isIntersecting&&$(t.target).css("animation-play-state","running")}))}),{threshold:.2});e.each((function(){n.observe(this)}))})),$(document).ready((function(){const t=$("#timelineLine"),e=$(".timeline-item");function n(){const n=$(window).scrollTop(),o=$(window).height(),s=e.first().offset().top-100,i=e.last().offset().top,c=Math.max(0,n-s+.5*o),a=i-s,r=Math.min(c,a);t.css("height",r+"px"),e.each((function(){const t=$(this),e=t.offset().top;n+.7*o>e&&t.addClass("active")}))}n(),$(window).on("scroll",n),$(window).on("resize",n)}));const lazyVideo=document.querySelector(".lazy-video"),observer=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const e=t.target,n=document.createElement("source");n.src=e.dataset.src,n.type="video/mp4",e.appendChild(n),e.load(),e.play(),observer.unobserve(e)}}))}));observer.observe(lazyVideo),function(){const t=document.querySelector(".floating-orbs");t&&document.addEventListener("visibilitychange",(()=>{document.hidden?t.classList.add("paused"):t.classList.remove("paused")}))}();